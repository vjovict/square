{"version":3,"file":"component---src-pages-friend-details-tsx-fceab5345e09e29fd679.js","mappings":"03CAKMA,EAAc,mBAWpB,SAASC,IACP,MAA8BC,EAAAA,UAAiC,WAC7D,IAAMC,EAAaC,EAAAA,EAAAA,IAAYJ,GAE/B,GAAIG,EACF,OAAOA,EAGT,IAAME,EAAOC,EAAAA,KAAS,SAAAC,GAAI,wBAAUA,EAAV,CAAgBC,WAAW,OAErD,OADAJ,EAAAA,EAAAA,IAAYJ,EAAaK,GAClBA,KATFI,EAAP,KAAgBC,EAAhB,KAYMC,EAAiBT,EAAAA,aACrB,SAACU,GAAD,OAAgB,SAACC,GACfA,EAAGC,kBAEHJ,GAAW,SAAAL,GAAI,OACbA,EAAKU,KAAI,SAAAC,GAAC,OAAKA,EAAEJ,KAAOA,EAAT,iBAAmBI,EAAnB,CAAsBR,WAAYQ,EAAER,YAAcQ,WAGrE,IAWF,OAJAd,EAAAA,WAAgB,WACdE,EAAAA,EAAAA,IAAYJ,EAAaS,KACxB,CAACA,IAEG,CAAEA,QAAAA,EAASE,eAAAA,EAAgBM,UARhB,SAACC,GACjB,OAAOT,EAAQU,QAAO,qBAAGP,MAAiBM,KAAU,O,4IChClDE,EAAqC,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtCC,GAAQC,EAAAA,EAAAA,KACNN,GAAchB,EAAAA,EAAAA,KAAdgB,UACAO,GAAeC,EAAAA,EAAAA,KAAfD,WAEFE,EAAST,EAAUI,EAAO,MAE1BM,EAAQL,EAAMH,QAClB,SAAAS,GAAI,OAAKA,EAAKC,QAASH,MAAAA,OAAf,EAAeA,EAAQd,KAAiC,WAA3BgB,EAAKE,qBAC1C,GAEF,OACE,uBAAKC,UAAU,kBACb,gBAAC,IAAD,CAAKC,MAAM,mBAEX,uBAAKD,UAAU,WACb,gBAAC,EAAAE,KAAD,CAAMC,GAAG,KAAKV,EAAWW,eAGzBT,EAKA,gCACE,uBAAKK,UAAU,UACb,uBACEA,UAAU,QACVK,MAAO,CACLC,WAAW,QAAQV,MAAAA,OAAT,EAASA,EAAOW,WAAhB,SACVC,eAAgB,WAGpB,gBAAC,IAAD,CACER,UAAU,SACVF,KAAI,GAAKH,EAAOd,GAChB4B,UAAS,aAIb,uBAAKT,UAAU,WACb,0BAAKL,EAAOG,MACZ,yBAAIH,EAAOe,QACX,4BACGjB,EAAWkB,YADd,KAC6B,IAAIC,KAAKjB,EAAOkB,MAAMC,gBAIrD,uBAAKd,UAAU,YAEf,uBAAKA,UAAU,OACb,0BAAKP,EAAWsB,KAChB,yBAAIpB,EAAOoB,OAhCf,uBAAKf,UAAU,SACb","sources":["webpack://square_friends/./src/hooks/use-site-friends.ts","webpack://square_friends/./src/pages/friend-details/[...].tsx"],"sourcesContent":["import React from \"react\"\n\nimport Data from \"../data/friendsList.json\"\nimport storage from \"../util/storage\"\n\nconst STORAGE_KEY = \"__square_friends\"\n\nexport interface IFriendPayload {\n  id: number\n  name: string\n  social: string\n  bio: string\n  date: string\n  following: boolean\n}\n\nfunction useSiteFriends() {\n  const [friends, setFriends] = React.useState<IFriendPayload[]>(() => {\n    const cachedData = storage.get(STORAGE_KEY)\n\n    if (cachedData) {\n      return cachedData\n    }\n\n    const data = Data.map(user => ({ ...user, following: false }))\n    storage.set(STORAGE_KEY, data)\n    return data\n  })\n\n  const toggleFavorite = React.useCallback(\n    (id: number) => (ev: React.MouseEvent<HTMLDivElement>) => {\n      ev.stopPropagation()\n\n      setFriends(data =>\n        data.map(f => (f.id === id ? { ...f, following: !f.following } : f))\n      )\n    },\n    []\n  )\n\n  const getFriend = (friendId: string) => {\n    return friends.filter(({ id }) => id === +friendId)[0]\n  }\n\n  React.useEffect(() => {\n    storage.set(STORAGE_KEY, friends)\n  }, [friends])\n\n  return { friends, toggleFavorite, getFriend }\n}\n\nexport { useSiteFriends }\n","import React from \"react\"\nimport { Link, PageProps } from \"gatsby\"\n\nimport SEO from \"../../components/seo\"\nimport Image from \"../../components/image\"\nimport { useSiteFiles } from \"../../hooks/use-site-files\"\nimport { useSiteLanguage } from \"../../hooks/use-site-language\"\nimport { useSiteFriends } from \"../../hooks/use-site-friends\"\n\nconst FriendDetails: React.FC<PageProps> = ({ params }) => {\n  const files = useSiteFiles()\n  const { getFriend } = useSiteFriends()\n  const { dictionary } = useSiteLanguage()\n\n  const friend = getFriend(params[\"*\"])\n\n  const cover = files.filter(\n    file => +file.name === friend?.id && file.relativeDirectory === \"covers\"\n  )[0]\n\n  return (\n    <div className=\"friend-details\">\n      <SEO title=\"Friend Details\" />\n\n      <div className=\"go-back\">\n        <Link to=\"/\">{dictionary.homeBackLink}</Link>\n      </div>\n\n      {!friend ? (\n        <div className=\"empty\">\n          <p>No friend found!</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"images\">\n            <div\n              className=\"cover\"\n              style={{\n                background: `url(${cover?.publicURL}) #ccc`,\n                backgroundSize: \"cover\",\n              }}\n            />\n            <Image\n              className=\"avatar\"\n              name={`${friend.id}`}\n              directory={`avatars`}\n            />\n          </div>\n\n          <div className=\"profile\">\n            <h2>{friend.name}</h2>\n            <p>{friend.social}</p>\n            <span>\n              {dictionary.connectedOn}: {new Date(friend.date).toUTCString()}\n            </span>\n          </div>\n\n          <div className=\"divider\" />\n\n          <div className=\"bio\">\n            <h2>{dictionary.bio}</h2>\n            <p>{friend.bio}</p>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport { FriendDetails as default }\n"],"names":["STORAGE_KEY","useSiteFriends","React","cachedData","storage","data","Data","user","following","friends","setFriends","toggleFavorite","id","ev","stopPropagation","map","f","getFriend","friendId","filter","FriendDetails","params","files","useSiteFiles","dictionary","useSiteLanguage","friend","cover","file","name","relativeDirectory","className","title","Link","to","homeBackLink","style","background","publicURL","backgroundSize","directory","social","connectedOn","Date","date","toUTCString","bio"],"sourceRoot":""}